"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn")),_getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf")),_inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits")),_cocosjsCore=_interopRequireWildcard(require("cocosjs-core")),proxy=function(a,b){return new Proxy(a,b)},socketService=_cocosjsCore.SocketService,CocosBcx=/*#__PURE__*/function(a){function b(){return(0,_classCallCheck2["default"])(this,b),(0,_possibleConstructorReturn2["default"])(this,(0,_getPrototypeOf2["default"])(b).call(this,_cocosjsCore.Blockchains.COCOSBCX,_cocosjsCore.PluginTypes.BLOCKCHAIN_SUPPORT))}return(0,_inherits2["default"])(b,a),(0,_createClass2["default"])(b,[{key:"setSocketService",value:function setSocketService(a){socketService=a}},{key:"hookProvider",value:function hookProvider(){throw new Error("cocos hook provider not enabled yet.")}},{key:"signatureProvider",value:function signatureProvider(){0>=arguments.length?void 0:arguments[0];return function(a){// throwIfNoIdentity()
return proxy(a,{get:function get(a,c){return"function"==typeof a[c]?function(){return _cocosjsCore["default"].cocos.isExtension?a[c].apply(a,arguments):c===_cocosjsCore.WALLET_METHODS.transferAsset?b.methods()[_cocosjsCore.WALLET_METHODS.transferAsset](0>=arguments.length?void 0:arguments[0]):c===_cocosjsCore.WALLET_METHODS.callContractFunction?b.methods()[_cocosjsCore.WALLET_METHODS.callContractFunction](0>=arguments.length?void 0:arguments[0]):c===_cocosjsCore.WALLET_METHODS.getAccountInfo?b.methods()[_cocosjsCore.WALLET_METHODS.getAccountInfo](0>=arguments.length?void 0:arguments[0]):a[c].apply(a,arguments)}:a[c]}})}}}],[{key:"methods",value:function methods(){var a;return a={},(0,_defineProperty2["default"])(a,_cocosjsCore.WALLET_METHODS.transferAsset,function(a){return socketService.sendApiRequest({type:"requestTransfer",payload:a.payload})}),(0,_defineProperty2["default"])(a,_cocosjsCore.WALLET_METHODS.callContractFunction,function(a){return socketService.sendApiRequest({type:"callContractFunction",payload:a.payload})}),(0,_defineProperty2["default"])(a,_cocosjsCore.WALLET_METHODS.callContractFunction,function(a){return socketService.sendApiRequest({type:"getAccountInfo",payload:a.payload})}),a}}]),b}(_cocosjsCore.Plugin);exports["default"]=CocosBcx,"undefined"!=typeof window&&(window.CocosBcx=CocosBcx);